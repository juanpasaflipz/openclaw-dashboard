{
  "version": 2,
  "builds": [
    {
      "src": "server.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "server.py"
    }
  ],
  "env": {
    "FLASK_ENV": "production"
  },
  "crons": [
    {
      "path": "/api/obs/internal/aggregate",
      "schedule": "0 * * * *"
    },
    {
      "path": "/api/obs/internal/evaluate-alerts",
      "schedule": "*/15 * * * *"
    },
    {
      "path": "/api/memories/index",
      "schedule": "0 */6 * * *"
    },
    {
      "path": "/api/obs/internal/retention-cleanup",
      "schedule": "0 3 * * *"
    },
    {
      "path": "/api/obs/internal/enforce-risk",
      "schedule": "*/30 * * * *"
    }
  ]
}
